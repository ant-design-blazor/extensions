<div class="try-blazor-container">
    @if (_isCompiling)
    {
        <div class="try-blazor-mask">
            <div class="spinner-spin">
                <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="8" cy="8" r="7"></circle>
                </svg>
            </div>
        </div>
    }
    <section>
        <div>
            <button class="code-run" @onclick="@RunCode"> run </button>
        </div>

        <MonacoEditor @ref="@_editor"
                      Style="@($"height:300px; {Style}")"
                      Language="@Language"
                      Options="@Options" />
    </section>
    @if (DefaultRender)
    {
        <section style="margin: 1rem;">
            @CompileResult
        </section>
    }
</div>

<style>
    .try-blazor-container{
        position: relative;
    }

    .try-blazor-container .spinner-spin {
        width: 1.5rem;
        height: 1.5rem;
        display: inline-flex;
        vertical-align: middle;
        transform-origin: center center;
        animation: spinner-spin-keyframe .86s cubic-bezier(.4,.15,.6,.85) infinite;
    }

    @@keyframes spinner-spin-keyframe {
        100% {
            transform: rotate(360deg);
        }
    }

    .try-blazor-container .spinner-spin circle {
        fill: none;
        stroke: currentColor;
        stroke-width: 1.5;
        stroke-dasharray: 60;
        stroke-dashoffset: 50;
        stroke-linecap: round;
    }

    .try-blazor-container .try-blazor-mask {
        background: rgba(255,255,255,0.5);
        position: absolute;
        height: 100%;
        width: 100%;
        z-index: 100;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .try-blazor-container > section:not(:last-child) {   
        margin-bottom: 1rem;
    }
    

    .try-blazor-container button.code-run {
        padding: 0.2rem 0.5rem;
        height: 2rem;
        background-color: #fff;
        border: 1px solid #5f5f5f;
        border-radius: 4px;
    }

        .try-blazor-container button.code-run:hover {
            background-color: #efefef;
        }
</style>